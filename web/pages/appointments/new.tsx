import { useState } from 'react';
import Layout from '../../components/Layout';
import { api } from '../../lib/api';
import { useRouter } from 'next/router';
export default function NewAppointment(){ const r=useRouter(); const [date,setDate]=useState(''); const [time,setTime]=useState('09:00'); const [firstName,setFirst]=useState(''); const [lastName,setLast]=useState(''); const [phone,setPhone]=useState(''); const [priority,setPriority]=useState('KONSULTE'); const [comment,setComment]=useState(''); const [status,setStatus]=useState('PLANIFIKUAR'); const create=async(e:any)=>{ e.preventDefault(); await api('/appointments',{ method:'POST', body: JSON.stringify({ date, time, phone, priority, comment, status, patient:{ firstName, lastName } }) }); r.push('/appointments'); }; return (<Layout><h2>Termin i ri</h2><form onSubmit={create} style={{ display:'grid', gap:8, maxWidth:480 }}><input type='date' value={date} onChange={e=>setDate(e.target.value)} required /><input type='time' value={time} onChange={e=>setTime(e.target.value)} required /><input placeholder='Emri' value={firstName} onChange={e=>setFirst(e.target.value)} required /><input placeholder='Mbiemri' value={lastName} onChange={e=>setLast(e.target.value)} required /><input placeholder='Telefoni' value={phone} onChange={e=>setPhone(e.target.value)} /><select value={priority} onChange={e=>setPriority(e.target.value)}><option>I_OPERUAR</option><option>FAMILJAR</option><option>SHOQERI</option><option>KONSULTE</option></select><select value={status} onChange={e=>setStatus(e.target.value)}><option>PLANIFIKUAR</option><option>KONFIRMUAR</option><option>NE_PRITJE</option><option>KRYER</option><option>ANULUAR</option><option>HUMBUR</option></select><textarea placeholder='Koment' value={comment} onChange={e=>setComment(e.target.value)} /><button type='submit'>Ruaj</button></form></Layout>); }